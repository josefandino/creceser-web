---
import Whatsapp from "./Whatsapp.astro";

// Aquí puedes agregar lógica del componente si es necesario
---

<header class="header">
  <!-- Columna 1: Logo -->
  <div class="logo">
    <a href="/">creceser</a>
  </div>

  <!-- Columna 2: Menú de navegación -->
  <nav class="desktop-nav">
    <a href="#inicio">Inicio</a>
    <a href="#servicios">Servicios</a>
    <a href="#nosotros">Nosotros</a>
  </nav>

  <!-- Columna 3: Login -->
  <div class="login-section">
    <div class="login-btn">
      <Whatsapp
        phone="51986717150"
        text="Contacto"
        class="login-btn"
        textColor="bg"
      />
    </div>
  </div>

  <!-- Menú hamburguesa para móvil -->
  <button class="hamburger" aria-label="Menú">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <!-- Navegación móvil -->
  <nav class="mobile-nav">
    <a href="#inicio" class="mobile-nav-link">Inicio</a>
    <a href="#servicios" class="mobile-nav-link">Servicios</a>
    <a href="#nosotros" class="mobile-nav-link">Nosotros</a>
    <Whatsapp
      phone="51986717150"
      text="Contacto"
      class="mobile-login"
      textColor="bg"
    />
  </nav>
</header>

<script>
  // Script para el menú hamburguesa
  const hamburger = document.querySelector(".hamburger");
  const mobileNav = document.querySelector(".mobile-nav");
  const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");
  const header = document.querySelector(".header");

  hamburger?.addEventListener("click", () => {
    mobileNav?.classList.toggle("open");
    hamburger?.classList.toggle("active");
  });

  // Cerrar menú móvil al hacer click en un enlace
  mobileNavLinks.forEach((link) => {
    link.addEventListener("click", () => {
      mobileNav?.classList.remove("open");
      hamburger?.classList.remove("active");
    });
  });

  // Efecto de scroll para el header
  let lastScroll = 0;

  window.addEventListener("scroll", () => {
    const currentScroll = window.pageYOffset;

    if (currentScroll > 50) {
      header?.classList.add("scrolled");
    } else {
      header?.classList.remove("scrolled");
    }

    lastScroll = currentScroll;
  });
</script>

<style>
  @import "../styles/header.css";
</style>
